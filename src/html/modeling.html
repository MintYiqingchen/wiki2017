<!DOCTYPE html>
<html lang="en">

<head>
  <title>Page Title</title>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="../lib/semantic.min.css">
  <link href="../css/common.css" rel="stylesheet">
  <link rel="stylesheet" href="../css/modeling.css">
</head>

<body>

  <div id="firstnav" class="ui fixed collapsed borderless ten menu">
    <a id="sdin-link" href="#">
      <img id="sdin-icon" src="../images/common/T--SYSU-Software--sdin-small.png" alt="logo">
    </a>

    <div class="ui simple dropdown item page-nav">
      <a href="./project.html" class="page-link">Project</a>
      <div class="menu page-category">
        <a href="#" class="item">Description</a>
        <a href="#" class="item">Another Heading</a>
        <a href="#" class="item">Third Heading</a>
      </div>
    </div>
    <div class="ui simple dropdown item page-nav" id="active-page">
      <a href="./modeling.html" class="page-link">Modeling</a>
      <div class="menu page-category">
        <a href="./modeling.html#overview" class="item">Overview</a>
        <a href="./modeling.html#recommendation-system" class="item">Recommendation System</a>
        <a href="./modeling.html#simulation" class="item">Simulation for General Genetic Circuits</a>
      </div>
    </div>
    <div class="ui simple dropdown item page-nav">
      <a href="./medal.html" class="page-link">Medals</a>
      <div class="menu page-category">
        <a href="./medal.html#overview" class="item">Overview</a>
        <a href="./medal.html#bronze" class="item">Bronze</a>
        <a href="./medal.html#silver" class="item">Silver</a>
        <a href="./medal.html#gold" class="item">Gold</a>
      </div>
    </div>
    <div class="ui simple dropdown item page-nav">
      <a href="#" class="page-link">Human Practice</a>
      <div class="menu page-category">
        <a href="#" class="item"></a>
        <a href="#" class="item"></a>
        <a href="#" class="item"></a>
      </div>
    </div>
    <div class="ui simple dropdown item page-nav">
      <a href="#" class="page-link">Collaboration</a>
      <div class="menu page-category">
        <a href="#" class="item"></a>
        <a href="#" class="item"></a>
        <a href="#" class="item"></a>
      </div>
    </div>
    <div class="ui simple dropdown item page-nav">
      <a href="./interlab.html" class="page-link">Interlab</a>
      <div class="menu page-category">
        <a href="./interlab.html#overview" class="item">Overview</a>
        <a href="./interlab.html#experiment-design" class="item">Experiment Design</a>
        <a href="./interlab.html#material-and-methods" class="item">Material and Methods</a>
        <a href="./interlab.html#results" class="item">Results</a>
      </div>
    </div>
    <div class="ui simple dropdown item page-nav">
      <a href="#" class="page-link">Safety</a>
      <div class="menu page-category">
        <a href="#" class="item"></a>
        <a href="#" class="item"></a>
        <a href="#" class="item"></a>
      </div>
    </div>
    <div class="ui simple dropdown item page-nav">
      <a href="./attributions.html" class="page-link">Attributions</a>
      <div class="menu page-category">
        <a href="./attributions.html#overview" class="item">Overview</a>
        <a href="./attributions.html#group-structure" class="item">Group Structure</a>
        <a href="./attributions.html#attribution-in-project" class="item">Attribution in Project</a>
        <a href="./attributions.html#journey-planning" class="item">Journey Planning and Financing</a>
        <a href="./attributions.html#acknowledgements" class="item">Acknowledgements</a>
      </div>
    </div>
    <div class="ui simple dropdown item page-nav">
      <a href="#" class="page-link">Team</a>
      <div class="menu page-category">
        <a href="#" class="item"></a>
        <a href="#" class="item"></a>
        <a href="#" class="item"></a>
      </div>
    </div>
  </div>

  <div id="first-page">
    <div id="ship-background"></div>
    <h1 id="top-title">Model</h1>
    <h2 id="slogan">slogan here</h2>
    <h3 id="sysu-software-2017">SYSU-Software 2017</h3>
    <!-- CONTENT OF FIRST PAGE -->
    <div class="page-content">
      <h2 id="overview">Overview</h2>
      <div class="overview">
        <p>What make S-Din work are the algorithms behind it.</p>
        <p>Our model group worked very hard to develop the recommend and simulation algorithms to make S-Din possible in functioning as expect.</p>
        <p>We combined the search and recommend algorithm together so the software can work faster.</p>
        <p>Simulation algorithm are developed to cover situations which is any circuits designed by users.</p>
      </div>
    </div>
  </div>

  <div class="modeling">
    <h2 id="recommendation-system">Recommendation System</h2>
    <div class="fullseg">
      <div class="page-content">
        <h3>Introduction</h3>
        <div class="paragraph">
          <p>The users of our software are all innovative researchers on Synthetic Biology, who are interested in many different biological fields. The purpose of our system is to recommend most related genetic parts to the users based on the research interest the users offer to our system.</p>
          <p>The information that we use to make recommendation is a database built by NLP and Random Walk which contains scores between each key word and each genetic part. Formally, it is a <code>n * m</code> matrix <code>A</code>, where <code>n</code> is the number of key words and <code>m</code> is the number of parts. The element at row <code>i</code>, column <code>j</code> is the score between the <code>i</code>th keyword and <code>j</code>th genetic part, which reflects the connection between them(higher score means higher connection).</p>
          <p>The overall strategy of our system is Collaborative Filtering , i.e. we first search the similar key words in our database of the unknown word offered by users and then recommend the genetic parts which are highly related to key words that we found to the users.</p>
          <p>A natural question is how to find the most similar key words in our dataset of a given unknown word in an accurate and efficient way? Here is our general solution : To quantify the semantic similarities between words accurately ,we use technique in Deep Learning to convert words into numerical vectors and the cosine similarities between each vectors can represents the semantic similarities between words. To search the similar key words efficiently, we use the KD Tree Algorithm, a fast algorithm based on binary tree, to implement the K Nearest Neighbors strategy.</p>
        </div>
      </div>
    </div>
    <div class="fullseg">
      <div class="page-content">
        <h3>Models used in the system</h3>
        <h4>Word2Vec Algorithm</h4>
        <div class="paragraph">
          <p>Word2vec is an algorithm that produces word embedding , i.e. it converts a corpus of text into a high dimensional real vector space(in our case , the dimension is 400) and each word in the corpus is assigned to a vector in the vector space. If two words are similar semantically , then their will be close under cosine distance measure.</p>
          <p>In our Recommendation System, we use gensim, an open source Python module focused on Natural Language Processing , to train our word2vec model and the corpus we use to feed the model is wikimedia, which can be downloaded from:<a href="https://dumps.wikimedia.org/">https://dumps.wikimedia.org/</a></p>
          <p>The reason why we use Word2vec is that it can distinguish the semantic meanings of words accurately by Deep Learning technique, which outperforms the traditional semantic analysis methods greatly.</p>
        </div>
        <h4>KD Tree Algorithm</h4>
        <div class="paragraph">
          <p>The KD Tree algorithm is rather efficient when searching for the most similar items with averaged time complexity<code>O(log(n))</code>,thus the users can get recommendation instantly after they enter their interested new word to our system.</p>
          <p>The KD Tree Algorithm consists of the following two parts:</p>
          <ol>
            <li>Construct KD Tree based on the normalized word vectors of the key words in the database which we previously mentioned. (Offline)</li>
            <li>When the user enter a new word , we search the similar key words along the KD Tree that we constructed in step 1) . (Online)</li>
          </ol>
          <p>Note that KD Tree Algorithm is based on Euclidean distance measure , while in our case , we need to calculate the cosine distance of the word vectors. To solve this problem ,we normalize all the word vectors of key words before constructing KD Tree and normalize the word vector of new words offered by users before letting it travel along the constructed KD Tree. The reason behind the method is that by Law of Cosines:</p>
          <img src="../images/modeling/T--SYSY-Software--law-of-cos.png" alt="law of cosine" class="centered formula" id="law-of-cos-img">
          <p>while since <code>x<sup>1</sup>,x<sup>2</sup></code> are normalized, we have :</p>
          <img src="../images/modeling/T--SYSY-Software--law-of-cos2.png" alt="law of cosine" class="centered formula" id="law-of-cos2-img">
          <p>Now we see that the calculation of cosine distance between normalized vectors can be replaced by the calculation of Euclidean distance since they can determine each other in this normalization context.</p>
          <p>In our Recommendation System , we use the KD Tree implementation in scikit-learn , a simple and efficient open source machine learning module in Python. For more details of KD Tree algorithm, see: <a href=" https://en.wikipedia.org/wiki/K-d_tree">wiki page of K-D Tree</a></p>
        </div>
        <h4>Random Walk with Restart Algorithm</h4>
        <img src="../images/modeling/T--SYSY-Software--part-keyword.png" class="centered" alt="" id="keyword-part-img">
        <p>Random Walk with Restart(RWR) is an algorithm adapted from the PageRank algorithm and it focuses on characterizing the affiliation between each item. We treat the relation between key words and genetic parts as an undirected graph where nodes represent key words or parts and edges represent connection between words and parts. Imagine there is a walker travelling on the graph mentioned above and each time he faces two choices: 1) Randomly travelling along an edge connected to the current node. 2) Teleport to node K. After a long time of random travelling , the frequency the walker reaches each node represents the affiliation between each node and node K , which we use to characterize the relation between key words and parts. For more detailed mathematical formulation of PageRank, see: <a href="https://en.wikipedia.org/wiki/PageRank">wiki page of page rank</a></p>
      </div>
    </div>

    <div class="fullseg">
      <div class="page-content">
        <h3>Algorithm to construct the Recommendation System</h3>
        <h4>Calculating affiliation between key words and parts</h4>
        <div class="paragraph">
          <p>We used random walk with restart to calculate the affiliation between key words and all parts in the dataset. The calculation is done by updating the probability vector iteratively ,once the probability vector is converged, it can be viewed as the affiliation between various parts and key words. Therefore, the higher the probability is, the closer the key word and part are.</p>
          <p>Here is the Algorithm that we use in our project:</p>
        </div>
        <h5>Define Transition Matrix <code>M</code></h5>
        <div class="paragraph">
          <p>Let <code>M</code> be the transition matrix of the graph <code>G</code> with size of <code>(n+m)^2</code>where <code>n</code> represents the number of keywords and <code>m</code> represents the number of parts. The entry in row <code>i</code> and column <code>j</code> of <code>M</code> is <code>1/k</code> if node <code>j</code> of <code>G</code> has degree <code>k</code>, and one of the adjacent node is <code>i</code>. Otherwise the entry is 0</p>
          <p> Note that the first <code>n</code> columns(rows) represent key words and the other <code>m</code> columns(rows) represent the parts.</p>
        </div>
        <h5>Prespecify &beta;</h5>
        <div class="paragraph">
          <p>&beta; is the probability that the walker continues to follow the edges connected to the current node, thus <code>1-&beta;</code> is the probability the walker will teleport to the initial node</p>
        </div>
        <h5>Iterate over <code>v</code></h5>
        <div class="paragraph">
          <p><code>for</code> keyword <code>i</code> in <code>1 to N</code></p>
          <h6>Define and initialize <code>v</code></h6>
          <p>Let <code>e<sub>i</sub></code> be the column vector that has 1 in the row for node <code>i</code> and 0’s elsewhere, i.e.</p>
          <img src="../images/modeling/T--SYSY-Software--eij.png" alt="eij" id="eij-img" class="centered formula">
          <p>And <code>e<sub>i</sub></code> is the column vector such that each item reflects the probability the walker stays at each node of the graph and the initial <code>v</code> is set to be <code>e<sub>i</sub></code>.</p>
          <h6>Update <code>v</code> by</h6>
          <img src="../images/modeling/T--SYSY-Software--bmv.png" alt="bmv+(1-b)ei" id="bmv-img" class="centered formula">
          <p>update code{v} until the terminal condition is satisfied, i.e.</p>
          <img src="../images/modeling/T--SYSY-Software--term-cond.png" alt="terminal condition" id="time-cond-img" class="centered formula">
          <h6>Modify <code>v</code></h6>
          <p>Since the first n components of <code>v</code> are the affiliation between key word <code>i</code> and the other key words which we are not interested , therefore we only keep the last m components of <code>v</code>, which reflects the affiliation between key word <code>i</code> and all the parts.</p>
        </div>

        <h3>Build KD Tree of Keywords</h3>
        <div class="paragraph">
          <p>Once the user enter a new word to our system, we need to search for similar key words efficiently , thus we build a KD Tree of key words to implement this function.</p>
          <p>Here is our Algorithm</p>
        </div>
        <h4>Train word vector model</h4>
        <div class="paragraph">
          <p>We feed our word vector model with Wikimedia corpus . After the training process is done, we have a model that can convert words into numerical vectors, i.e.</p>
          <img src="../images/modeling/T--SYSY-Software--f-gamma-r.png" id="f-gamma-r-img" alt="" class="centered formula">
          <p>where &Gamma; denoted the corpus space</p>
        </div>
        <h4>Convert keywords into normalized vectors</h4>
        <div class="paragraph">
          <p>let <code>T</code> denotes the set of word vectors</p>
          <p><code>for</code> keyword <code>i</code> in <code>1 to N</code>:</p>
          <p><code>T</code>.append(<img id="normalize-i" class="inlined-formula" src="../images/modeling/T--SYSY-Software--normalize-i.png" alt="f(i)/|f(i)|">)</p>
        </div>
        <h4>Build KD Tree</h4>
        <p>We use the standard construction procedure to build KD Tree of set <code>T</code>. Details will be ignored here. For the people who are interested , we offered a link to wikipedia in section2.</p>

        <h3>Collaborative Filtering</h3>
        <div class="paragraph">
          <p>This is the final step to construct our Recommendation System , overall we use collaborative filtering strategy to make prediction.</p>
          <p>Here is the algorithm</p>
        </div>
        <h4>Transform users input</h4>
        <p>We get users input word <code>k</code>, we then convert it into normalized word vector <code>v</code>, i.e.</p>
        <img src="../images/modeling/T--SYSY-Software--normalize-k.png" alt="" id="normalize-k-img" class="centered formula">
        <h4>Search K most similar keywords(KNN)</h4>
        <p>Let <code>v</code> travel along the KD Tree in a way like binary search , we can end up with <code>K</code>(in our case , <code>K</code> is set to be 5) most similar key words(KNN) to the current word <code>k</code>.</p>
        <h4>Make Recommendation</h4>
        <div class="paragraph">
          <p>We have calculated the affiliation between key words and parts which shall be used to guide our final recommendation. Let <code>p<sub>i</sub></code> denotes the connection between the <code>i</code>th part and the current word <code>k</code> , we calculate <code>p<sub>i</sub></code> by formula</p>
          <img src="../images/modeling/T--SYSY-Software--affiliation.png" alt="" id="affi-img" class="centered formula">
          <p>where <img src="../images/modeling/T--SYSY-Software--wn.png" alt="" class="inlined-formula"> denotes the <code>k</code> most similar key words</p>
          <p><code>Affiliation(w<sub>n</sub>, p<sub>i</sub>)</code>denotes the connection between <code>w<sub>i</sub></code> and the <code>i</code>th part and <code>distance(w<sub>i</sub>, k)</code> denotes the the Euclidean distance between the normalized word vectors of <code>w<sub>n</sub></code> and word <code>k</code>.</p>
          <p>After the computation of <img src="../images/modeling/T--SYSY-Software--pi.png" alt="" class="inlined-formula">, we use heap sort algorithm to get <code>R</code> highest <code>p<sub>i</sub></code> and recommend to the users the corresponding parts.</p>
        </div>
      </div>
      <div class="fullseg">
        <div class="page-content">
          <h2 id="simulation">Simulation for General Genetic Circuits</h2>
          <h3>Introduction</h3>
          <p>The users of S-Din are all active and innovative researchers in Synthetic Biology, who come up with many interesting and new ideas in a wide range of fields. Our software helps them achieve their creative goals by allowing them to combine various genetic parts together to form brand-new genetic circuits that may never exist before. To help the researchers have a deeper understanding of how the genetic system that they created works, we construct an ODE system to simulate the dynamic behaviors of the genetic system mathematically. The main challenge of simulation is the uncertainty of genetic circuits since the users can construct them arbitrarily. Therefore, we build a rather general model capable of simulating various genetic circuits.</p>
          <h3>Model</h3>
          <div class="paragraph">
            <p>The interaction among the substances in genetic circuits can be characterized by a <code>n * n</code> relation matrix <code>R</code>, where <code>n</code> is number of substances. The entry in row <code>i</code> and column <code>j</code> has 3 possible values for 3 possible relations, i.e. </p>
            <img src="../images/modeling/T--SYSY-Software--rij.png" id="rij-img" alt="" class="centered formula">
            <p>Therefore , the <code>j</code>th column records all the impacts the system exerts to the <code>j</code>th substances.</p>
            <p>Let <code>x<sub>j</sub>(t)</code> denotes the concentration of substance <code>j</code> at time <code>t</code> , then we use the following ODE to characterize <code>x<sub>j</sub>(t)</code> for <img src="../images/modeling/T--SYSY-Software--j-1-to-n.png" alt="" class="inlined-formula"></p>
            <img src="../images/modeling/T--SYSY-Software--longest.png" id="longest-img" alt="" class="centered formula">
            <p>where &beta; represents the degradation rate and:</p>
            <img src="../images/modeling/T--SYSY-Software--fx-gx.png" id="fx-gx-img" alt="" class="centered formula">
            <p></p>
            <h3>Imlementation</h3>
            <p>We use Scipy, an efficient open source numerical module in Python, to give the numerical solutions to the ODE system. Specifically, we use the odeint function in Scipy. For more information about odeint function, see <a href=" https://docs.scipy.org/doc/scipy/reference/generated/scipy.integrate.odeint.html">documentation of scipy</a></p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="contact">
    <div id="contact-content">
      <div class="contact-item">
        <div class="contact-heading">contact</div>
        <div class="contact-value">sysusoftware@126.com</div>
      </div>
      <div class="contact-item">
        <div class="contact-heading">address</div>
        <div class="contact-value">135# Xin'gang Rd(W.), Sun Yat-sen University, Guangzhou, China</div>
      </div>
      <div class="contact-item">
        <div class="contact-heading">GET IN TOUCH</div>
        <div class="contact-icons">
          <a href="#" class="contact-icon"><img src="../images/common/T--SYSU-Software--instagram.png" alt="instagram"></a>
          <a href="#" class="contact-icon"><img src="../images/common/T--SYSU-Software--twitter.png" alt="twitter"></a>
          <a href="#" class="contact-icon"><img src="../images/common/T--SYSU-Software--google.png" alt="google+"></a>
          <a href="#" class="contact-icon"><img src="../images/common/T--SYSU-Software--facebook.png" alt="facebook"></a>
        </div>
      </div>
    </div>
  </div>
  <script src="../lib/T--SYSU-Software--jquery.min.js"></script>
  <script src="../lib/semantic.min.js"></script>
</body>

</html>
